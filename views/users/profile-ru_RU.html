<div ng-controller="users.CurrentUserProfileController as vm"><div class="content-header"></div><form name="user_form" class="common-form" ng-submit="vm.save()"><div class="row"><div class="col-lg-6 col-xs-6"><div class="form-group"><label for="nameField">ФИО</label> <input type="text" class="form-control" id="nameField" name="nameField" disabled="disabled" maxlength="100" ng-model="vm.user.fullName"></div><div class="form-group"><label for="mailField">Email</label> <input type="email" class="form-control" id="mailField" name="mailField" disabled="disabled" maxlength="100" ng-model="vm.user.email"></div><div class="form-group" ng-if="vm.userLogon.id"><label for="loginField">Логин</label> <input type="text" class="form-control" id="loginField" name="loginField" disabled="disabled" maxlength="100" ng-model="vm.userLogon.name"></div><div class="form-group" ng-if="vm.userLogon.id"><label for="passwordField">Пароль</label> <input type="password" class="form-control" id="passwordField" name="passwordField" ng-disabled="vm.isEverythingDisabled" maxlength="100" ng-model="vm.userLogon.password"></div><div class="form-group" ng-if="vm.userLogon.id"><label ng-class="{'vhs-required': vm.userLogon.password.length}" for="confirmPasswordField">Подтверждение пароля</label> <input type="password" class="form-control" id="confirmPasswordField" name="confirmPasswordField" ng-disabled="vm.isEverythingDisabled" maxlength="100" ng-required="vm.userLogon.password.length" ng-model="vm.confirmPassword"> <span class="error" ng-show="!vm.confirmPassword.length && user_form.confirmPasswordField.$error.required">Подтвердите пароль</span> <span class="error" ng-show="vm.confirmPassword.length && vm.confirmPassword != vm.userLogon.password">Пароли не совпадают</span></div><div class="form-group" ng-if="vm.availableLocales && vm.availableLocales.length > 1"><label class="vhs-required">Локаль</label> <select class="form-control" ng-disabled="vm.isEverythingDisabled" ng-model="vm.user.locale" ng-required="true" ng-options="::e.locale as ::e.name for e in ::vm.availableLocales"></select></div></div><div class="col-lg-6 col-xs-6"><div class="form-group"><label>Группы</label><table class="table"><tbody><tr ng-repeat="group in vm.user.groupsList"><td>{{group.name}}</td></tr></tbody></table></div></div></div><div class="row"><div class="col-lg-6 col-xs-6"><div class="row"><div class="col-lg-6 col-xs-6"><button class="btn btn-primary btn-block" type="submit" ng-disabled="vm.isEverythingDisabled || !user_form.$valid || vm.disableSaveButton || vm.confirmPassword != vm.userLogon.password">Сохранить</button></div><div class="col-lg-6"><button class="btn btn-default btn-block" type="button" ng-disabled="vm.isEverythingDisabled" ng-click="vm.cancel()">Отменить</button></div></div></div></div></form></div>