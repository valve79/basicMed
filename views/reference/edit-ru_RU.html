<div ng-controller="reference.ReferenceEditController as vm"><div class="content-header"></div><form class="common-form" ng-submit="vm.saveEntity()"><div ng-if="vm.referenceEntity && vm.referenceMetadata"><div class="row"><div class="col-lg-6 col-xs-6"><div class="form-group" ng-repeat="attr in ::vm.referenceMetadata.editableAttributes"><label for="titleField-{{attr.systemName}}">{{ attr.title }}</label> <input type="text" class="form-control" id="titleField-{{attr.systemName}}" ng-disabled="vm.referenceMetadata.isInternal" ng-model="vm.referenceEntity[attr.systemName]" ng-if="vm.referenceUtils.isTextAttributeType(attr.type)"><div class="input-group" ng-disabled="vm.referenceMetadata.isInternal" ng-id="titleField-{{attr.systemName}}" ng-if="vm.referenceUtils.isBooleanAttributeType(attr.type)"><div class="radio"><label><input type="radio" ng-value="true" ng-model="vm.referenceEntity[attr.systemName]"> Да</label></div><div class="radio"><label><input type="radio" ng-value="false" ng-model="vm.referenceEntity[attr.systemName]"> Нет</label></div></div><div class="input-group date" id="datetimepicker5" ng-if="vm.referenceUtils.isDateAttributeType(attr.type)"><input date-picker type="text" size="10" ng-id="titleField-{{attr.systemName}}" ng-disabled="vm.referenceMetadata.isInternal" class="form-control" ng-pattern="/^(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.((18|19|20)\d{2})$/" ng-model="vm.referenceEntity[attr.systemName]"/> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span></div><input type="text" class="form-control" ng-id="titleField-{{attr.systemName}}" ng-disabled="vm.referenceMetadata.isInternal" ng-model="vm.referenceEntity[attr.systemName]" ng-if="vm.referenceUtils.isMoneyAttributeType(attr.type)"><div reference-dropdown-selector vhs-disabled="vm.referenceMetadata.isInternal" vhs-reference-name="attr.association.key" vhs-reference-filter="vm.referenceAssociationFiltersMap.get(attr.systemName)" vhs-model="vm.referenceEntity" vhs-model-property="attr.systemName" vhs-nullable="true" vhs-editable="true" ng-id="titleField-{{attr.systemName}}" ng-if="vm.referenceUtils.isOneAssociationAttributeType(attr.type)"/><div reference-checkbox-selector vhs-disabled="vm.referenceMetadata.isInternal" vhs-reference-name="attr.association.key" vhs-reference-filter="vm.referenceAssociationFiltersMap.get(attr.systemName)" vhs-model="vm.referenceEntity" vhs-model-property="attr.systemName" ng-id="titleField-{{attr.systemName}}" ng-if="vm.referenceUtils.isManyAssociationAttributeType(attr.type)"><label></label></div><span class="error" ng-show="vm.referenceValidationErrorsMap.get(attr.systemName)">{{ vm.referenceValidationErrorsMap.get(attr.systemName) }}</span></div></div></div><div class="row"><div class="col-lg-6 col-xs-6"><div class="row"><div class="col-lg-6 col-xs-6"><button class="btn btn-primary btn-block" type="submit" ng-disabled="!vm.entityValid() || vm.disableSaveButton || vm.referenceMetadata.isInternal">Сохранить</button></div><div class="col-lg-6 col-xs-6"><button class="btn btn-default btn-block" type="button" ng-click="vm.redirectToBack()">Отменить</button></div></div></div><div class="col-lg-6 col-xs-6" ng-hide="::vm.referenceEntity['predefined']"><div class="row"><div class="col-lg-6 col-xs-6"><button class="btn btn-primary btn-block" type="button" ng-click="vm.deactivateEntity()" ng-hide="::vm.referenceEntity['predefined']" ng-disabled="::vm.referenceMetadata.isInternal" ng-if="vm.referenceEntity[vm.referenceUtils.getEntityIdProperty()] && vm.systemPermissions.removeReferenceData"><span class="glyphicon glyphicon-off"></span> Деактивировать</button></div></div></div></div></div></form></div>