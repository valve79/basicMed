<div ng-controller="reference.ReferenceController as vm"><div vhs-grid data-grid-model-path="vm.referenceEntitiesGridModel" data-vhs-grid-uuid="referenceEntitiesRegisterGrid"><div class="content-header"><form class="form-inline form-header"><div class="form-group" data-vhs-auto-search><label for="searchField">Поиск</label> <input type="text" class="form-control" id="searchField" maxlength="500" ng-model="vm.referenceEntitiesGridModel.filter.referenceSearchString"></div><div class="form-group" data-vhs-auto-search><div class="checkbox"><label><input type="checkbox" ng-model="vm.referenceEntitiesGridModel.filter.referenceSplitParam"> Разбить по словам</label></div></div></form></div><div class="table-scroll"><table class="table table-hover" data-vhs-table><thead><tr ng-if="vm.referenceEntitiesGridModel.entries.length > 0"><th ng-repeat="attr in ::vm.referenceMetadata.gridAttributes">{{ ::attr.title }}</th><th>Активно</th></tr></thead><tbody><tr ng-repeat="entity in vm.referenceEntitiesGridModel.entries"><td ng-repeat="attr in ::vm.referenceMetadata.gridAttributes" ng-style="::vm.referenceUtils.getIsActiveGridStyle(entity[vm.referenceUtils.getEntityIsActiveProperty()])"><div ng-if="::vm.referenceUtils.isTextAttributeType(attr.type)"><a href="#{{::vm.getReferenceEditUrl(entity.id)}}" ng-if="vm.systemPermissions.editReferenceData
                               && !vm.referenceMetadata.isInternal
                               && entity[vm.referenceUtils.getEntityIsActiveProperty()]
                               && vm.referenceMetadata.selectorAttribute.id == attr.id">{{::vm.referenceUtils.convertStringAttribute(entity[attr.systemName])}}</a> <span ng-if="!vm.systemPermissions.editReferenceData
                            || vm.referenceMetadata.isInternal
                            || !entity[vm.referenceUtils.getEntityIsActiveProperty()]
                            || vm.referenceMetadata.selectorAttribute.id != attr.id">{{::vm.referenceUtils.convertStringAttribute(entity[attr.systemName])}}</span></div><div ng-if="::vm.referenceUtils.isBooleanAttributeType(attr.type)">{{ ::vm.referenceUtils.convertBooleanAttribute(entity[attr.systemName]) }}</div><div ng-if="::vm.referenceUtils.isDateAttributeType(attr.type)">{{ ::vm.referenceUtils.convertDateAttribute(entity[attr.systemName]) }}</div><div ng-if="::vm.referenceUtils.isMoneyAttributeType(attr.type)">{{ ::vm.referenceUtils.convertMoneyAttribute(entity[attr.systemName]) }}</div><div ng-if="::vm.referenceUtils.isGroupAttributeType(attr.type)">{{ ::vm.referenceUtils.convertGroupAttribute(entity, attr.groupTemplate, attr.childAttributes) }}</div><div ng-if="::vm.referenceUtils.isOneAssociationAttributeType(attr.type)">{{ ::vm.referenceUtils.convertOneAssociationAttributeForGrid(entity, attr) }}</div></td><td ng-style="::vm.referenceUtils.getIsActiveGridStyle(entity[vm.referenceUtils.getEntityIsActiveProperty()])">{{ ::vm.referenceUtils.convertBooleanAttribute(entity[vm.referenceUtils.getEntityIsActiveProperty()]) }} <small ng-hide="entity[vm.referenceUtils.getEntityIsActiveProperty()] || vm.referenceMetadata.isInternal">&nbsp;<a href="javascript:void(0)" ng-if="::vm.systemPermissions.removeReferenceData" ng-hide="vm.referenceMetadata.isInternal" ng-click="vm.activateEntity($index, entity)">Активировать</a></small></td></tr><tr ng-hide="vm.referenceEntitiesGridModel.entries.length > 0"><td colspan="{{vm.referenceMetadata.gridAttributes.length + 1}}">По запросу ничего не найдено</td></tr></tbody></table></div><div vhs-grid-pagination></div></div></div>