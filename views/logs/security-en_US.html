<div ng-controller="logs.SecurityLogController as vm"><div vhs-grid data-grid-model-path="vm.securityLogsGridModel" data-vhs-grid-uuid="securityLogsRegisterGrid"><div class="content-header"><form class="form-inline form-header" data-vhs-auto-search><div class="form-group filter"><div class="btn-group" ng-if="vm.securityActionTypes"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Action <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><div multiple-checkbox-selector ng-click="gridVm.applyFilter()" vhs-entities="vm.securityActionTypes" vhs-model="vm.actionsFilter"></div></ul></div><div class="btn-group" ng-if="vm.securityLogStatuses"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Status <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><div multiple-checkbox-selector ng-click="gridVm.applyFilter()" vhs-entities="vm.securityLogStatuses" vhs-model="vm.statusesFilter"></div></ul></div></div><div class="search-filter"><div class="form-group table-settings"><div vhs-grid-configuration></div></div><div class="form-group pull-right"><div class="date"><label for="forDateField">For date</label> <input date-picker type="text" id="forDateField" class="form-control" ng-model="vm.forDateFilter" maxlength="10" ng-pattern="/^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/((18|19|20)\d{2})$/" ng-change="gridVm.applyFilter()"/></div></div><div class="form-group pull-right"><label for="searchField" class="sr-only">Search</label> <input type="text" class="form-control search" id="searchField" maxlength="500" placeholder="Search" ng-model="vm.securityLogsGridModel.filter.searchString"/></div></div></form></div><div class="table-scroll"><table class="table table-hover" data-vhs-table><thead><tr ng-show="vm.securityLogsGridModel.entries.length > 0"><th data-sortable="actionDate desc(1)">Date</th><th data-sortable="logonName">User login</th><th data-sortable="sessionUuid">Session</th><th data-sortable="ip">IP</th><th data-sortable="action">Action</th><th data-sortable="status">Status</th></tr></thead><tbody><tr ng-repeat="e in vm.securityLogsGridModel.entries"><td class="small-text">{{::e.actionDate | date:'M/d/yyyy H:mm'}}</td><td><a ng-if="vm.systemPermissions.viewUsers && e.userId" href="#{{::vm.usersRouter.editUrl(e.userId)}}">{{::e.logonName}} </a><span ng-if="!vm.systemPermissions.viewUsers || !e.userId">{{::e.logonName}}</span></td><td class="small-text">{{::e.sessionUuid}}</td><td class="small-text">{{::e.ip}}</td><td class="small-text">{{::e.action}}</td><td><span ng-class="{'logs-warn': e.status != 'SUCCESS', 'logs-error': e.status == 'FAILED_ACCESS_DENIED'}">{{::e.status}}</span> <a ng-if="::e.description" class="small-text" onclick="$(this).next().show(),$(this).hide()">details... </a><span class="small-text" style="display: none;">{{::e.description}}</span></td></tr><tr vhs-grid-empty data-vhs-empty-message="Security logs not found"></tr></tbody></table></div><div vhs-grid-pagination></div></div></div>