<div ng-controller="personal.UploadsController as vm"><div class="col-lg-4 col-xs-4"><div class="col-lg-12 col-xs-12"><div class="user-profile"><img src="themes/default/img/demo/icon-profile.png"></div><h3 class="user-profile">{{vm.userProfile.fullName}}</h3></div><div class="col-lg-12 col-xs-12"><div left-personal-menu></div></div></div><div class="col-lg-8 col-xs-8"><div vhs-grid data-grid-model-path="vm.uploadsGridModel" data-vhs-grid-uuid="uploadsRegisterGrid"><form class="form-inline form-header material-form-header" data-vhs-auto-search><label for="searchField" class="label-search">The total number of records: {{vm.uploadsGridModel.totalCount}}</label> <span class="glyphicon glyphicon-search" aria-hidden="true" data-toggle="collapse" data-target="#searchField" aria-expanded="false" aria-controls="collapseExample"></span> <input type="text" class="form-control collapse" id="searchField" maxlength="500" placeholder="Search" ng-model="vm.uploadsGridModel.filter.searchString"/><div class="pull-right"><label for="viewTypeField" class="label-search">View</label> <select class="form-control" id="viewTypeField" ng-model="vm.viewType"><option value="0">list</option><option value="1">cards</option></select></div></form><table ng-if="vm.viewType == 0" class="table table-striped"><tr ng-if="vm.uploadsGridModel.entries.length > 0"><th>Title</th><th>Type</th><th>Duration</th><th style="text-align:right">Size</th></tr><tr ng-repeat-start="upload in vm.uploadsGridModel.entries" ng-click="vm.showDetails(upload.id)" ng-class="{ 'selected-class-name': vm.rowShow.get(upload.id) == true }"><td><a ng-if="upload.permissions.view" ng-href="#{{::vm.materialsRouter.watchUrl(upload.id)}}" ng-click="$event.stopPropagation();">{{::upload.topic}} <span ng-if="upload.author">({{::upload.author}})</span></a> <span ng-if="!upload.permissions.view">{{::upload.topic}} ({{::upload.author}})</span></td><td><button ng-if="upload.permissions.view" class="btn-link" type="button" ng-click="vm.watch(upload.id); $event.stopPropagation();"><span class="{{::vm.getGlyphiconClass('MATERIAL', upload.typeId)}}"></span></button> <span ng-if="!upload.permissions.view" class="{{::vm.getGlyphiconClass('MATERIAL', upload.typeId)}}"></span> {{::vm.getTypeTitle('MATERIAL', upload.typeId)}}</td><td><span ng-if="upload.typeId == 1 || upload.typeId == 2">{{::upload.duration | numeraljs:'00:00:00'}}</span></td><td style="text-align:right"><span ng-if="upload.fileSize > 0">{{ upload.fileSize | numeraljs:'0 b' }}</span></td></tr><tr ng-repeat-end="upload in vm.uploadsGridModel.entries" ng-show="vm.rowShow.get(upload.id) == true"><td colspan="3"><div class="col-lg-12 col-xs-12"><div class="col-lg-1 col-xs-1"></div><div class="col-lg-10 col-xs-10"><div class="col-lg-6 col-xs-6"><div class="row"><b>Subject:</b> {{::upload.subjectName}}</div><div class="row"><b>Title:</b> {{::upload.title}}</div><div class="row"><b>Topic:</b> {{::upload.topic}}</div><div ng-if="upload.author" class="row"><b>Author:</b> {{::upload.author}}</div><div class="row"><b>Available till:</b> {{(upload.validity) ? upload.validity : 'Never expires' | date: 'M/d/yyyy' }}</div><div class="row"><b>Language:</b> {{::upload.languageName}}</div></div><div ng-if="upload.summary" class="col-lg-6 col-xs-6"><b>Summary:</b> {{::upload.summary}}</div></div><div class="col-lg-1 col-xs-1"></div></div></td></tr><tr vhs-grid-empty data-vhs-empty-message="Materials not found"></tr></table><div class="row" ng-if="vm.viewType == 1"><div ng-repeat="upload in vm.uploadsGridModel.entries" class="col-lg-4 col-xs-6"><a ng-if="upload.permissions.view" class="material-link" ng-href="#{{::vm.materialsRouter.watchUrl(upload.id)}}"><div class="search-result-element"><div class="image-video"><img class="img-rounded" width="100%" height="100%" ng-src="{{::upload.previewUrl}}" vhs-thumbnail vhs-thumbnail-model="upload"><p ng-if="upload.typeId == 1 || upload.typeId == 2"><strong>{{::upload.duration | numeraljs:'00:00:00'}}</strong></p></div><div class="element-info">Upload date: {{::upload.uploadDate | date: 'M/d/yyyy'}}</div><div class="element-title"><strong class="vhs-green-text">{{::upload.subjectName}}</strong><strong> / {{::upload.title}} <span ng-if="upload.author">({{::upload.author}})</span></strong></div><div class="element-info">{{::upload.summary}}</div></div></a><div ng-if="!upload.permissions.view" class="search-result-element"><div class="image-video"><img class="img-rounded" width="100%" height="100%" ng-src="{{::upload.previewUrl}}" vhs-thumbnail vhs-thumbnail-model="upload"><p ng-if="upload.typeId == 1 || upload.typeId == 2"><strong>{{::upload.duration | numeraljs:'00:00:00'}}</strong></p></div><div class="element-info">Upload date: {{::upload.uploadDate | date: 'M/d/yyyy'}}</div><div class="element-title"><strong class="vhs-green-text">{{::upload.subjectName}}</strong><strong> / {{::upload.title}} ({{::upload.author}})</strong></div><div class="element-info">{{::upload.summary}}</div></div></div><div vhs-grid-empty data-vhs-empty-message="Materials not found"></div></div><div class="row" vhs-grid-pagination></div></div></div></div>