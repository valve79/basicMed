<div ng-controller="personal.QuizzesController as vm"><div class="col-lg-4 col-xs-4"><div class="col-lg-12 col-xs-12"><div class="user-profile"><img src="themes/default/img/demo/icon-profile.png"></div><h3 class="user-profile">{{vm.userProfile.fullName}}</h3></div><div class="col-lg-12 col-xs-12"><div left-personal-menu></div></div></div><div class="col-lg-8 col-xs-8"><div ng-if="vm.quizViewType == 1" vhs-grid data-grid-model-path="vm.passedQuizzesGridModel" data-vhs-grid-uuid="passedQuizzesRegisterGrid"><form class="form-inline form-header material-form-header" data-vhs-auto-search><label for="searchField" class="label-search">Всего записей: {{vm.passedQuizzesGridModel.totalCount}}</label> <span class="glyphicon glyphicon-search" aria-hidden="true" data-toggle="collapse" data-target="#searchField" aria-expanded="false" aria-controls="collapseExample"></span> <input type="text" class="form-control collapse" id="searchField" maxlength="500" placeholder="Поиск" ng-model="vm.passedQuizzesGridModel.filter.searchString"/><div class="pull-right"><label for="viewTypeField" class="label-search">Просмотр</label> <select class="form-control" id="viewTypeField" ng-model="vm.viewType"><option value="0">список</option><option value="1">карточки</option></select></div><ul class="nav nav-pills"><li role="presentation" ng-class="{'active': vm.quizViewType == 1}"><a role="button" ng-click="vm.setQuizViewType(1)" href="javascript:void(0)">Пройденные</a></li><li role="presentation" ng-class="{'active': vm.quizViewType == 2}" ng-if="vm.hasCreatedQuizzes"><a role="button" ng-click="vm.setQuizViewType(2)" href="javascript:void(0)">Созданные</a></li></ul></form><table ng-if="vm.viewType == 0" class="table table-striped"><tr ng-if="vm.passedQuizzesGridModel.entries.length > 0"><th>Название</th><th>Предмет</th><th>Результат</th><th>Курс</th></tr><tr ng-repeat-start="quiz in vm.passedQuizzesGridModel.entries" ng-click="vm.showQuizResults(quiz.id, quiz.quizId, quiz.sourceType, quiz.sectionId)" ng-class="{ 'selected-class-name': vm.rowShow.get(quiz.id) == true }"><td ng-if="quiz.permissions.view"><a ng-href="" ng-click="vm.loadQuiz(quiz.quizId); $event.stopPropagation();">{{::quiz.quizTitle}}</a></td><td ng-if="!quiz.permissions.view"><span>{{::quiz.quizTitle}}</span></td><td>{{::quiz.quizSubjectName}}</td><td><span ng-if="quiz.passed" class="text-success">Тест сдан</span> <span ng-if="!quiz.passed" class="text-danger">Тест не сдан</span></td><td>{{::quiz.courseName}}</td></tr><tr ng-repeat-end="quiz in vm.quizzesGridModel.entries" ng-show="vm.rowShow.get(quiz.id) == true"><td colspan="4"><div class="col-lg-12 col-xs-12 text-center" ng-repeat="quizResult in vm.quizResults.get(quiz.id)"><label>Номер попытки: <span>{{quizResult.attempt}}</span></label><br/><label>Количество правильных ответов: <span>{{quizResult.correctAnswersCount}}</span></label><br/><label>Количество неправильных ответов: <span>{{quizResult.wrongAnswersCount}}</span></label><br/><label>Количество неотвеченных вопросов: <span>{{quizResult.noAnswersCount}}</span></label><br/><label>Процент правильных ответов: <span>{{quizResult.correctAnswersPercentage}}</span></label><br/><label class="text-success" ng-if="quizResult.passed">Тест сдан</label> <label class="text-danger" ng-if="!quizResult.passed">Тест не сдан</label></div></td></tr></table><div ng-if="vm.viewType == 1"><div ng-repeat="quiz in vm.passedQuizzesGridModel.entries" class="col-lg-4 col-xs-6"><div class="course-form"><a ng-href="" ng-if="quiz.permissions.view" ng-click="vm.loadQuiz(quiz.quizId)"><div class="img-wrapper"><img ng-if="quiz.previewUrl == null" src="themes/default/img/thumbnail-quiz.png" width="100%" height="100%"> <img ng-if="quiz.previewUrl != null" width="100%" height="100%" ng-src="{{::quiz.previewUrl}}" vhs-thumbnail vhs-thumbnail-model="quiz"></div></a><div class="img-wrapper" ng-if="!quiz.permissions.view"><img ng-if="quiz.previewUrl == null" src="themes/default/img/thumbnail-quiz.png" width="100%" height="100%"> <img ng-if="quiz.previewUrl != null" width="100%" height="100%" ng-src="{{::quiz.previewUrl}}" vhs-thumbnail vhs-thumbnail-model="quiz"></div><div class="course-title"><span class="vhs-green-text">{{::quiz.quizSubjectName}}</span> <span>/ {{::quiz.quizTitle}}</span></div><div class="course-subtitle">{{::quiz.courseName}}</div><div class="course-available"><span class="text-success" ng-if="quiz.passed">Тест сдан</span> <span class="text-danger" ng-if="!quiz.passed">Тест не сдан</span></div></div></div></div><div class="row" vhs-grid-pagination></div><div vhs-grid-empty data-vhs-empty-message="Тесты не найдены"></div></div><div ng-if="vm.quizViewType == 2" vhs-grid data-grid-model-path="vm.createdQuizzesGridModel" data-vhs-grid-uuid="createdQuizzesRegisterGrid"><form class="form-inline form-header material-form-header" data-vhs-auto-search><label for="searchField" class="label-search">Всего записей: {{vm.createdQuizzesGridModel.totalCount}}</label> <span class="glyphicon glyphicon-search" aria-hidden="true" data-toggle="collapse" data-target="#searchField" aria-expanded="false" aria-controls="collapseExample"></span> <input type="text" class="form-control collapse" id="searchField" maxlength="500" placeholder="Поиск" ng-model="vm.createdQuizzesGridModel.filter.searchString"/><div class="pull-right"><label for="viewTypeField" class="label-search">Просмотр</label> <select class="form-control" id="viewTypeField" ng-model="vm.viewType"><option value="0">список</option><option value="1">карточки</option></select></div><ul class="nav nav-pills"><li role="presentation" ng-class="{'active': vm.quizViewType == 1}"><a role="button" ng-click="vm.setQuizViewType(1)" href="javascript:void(0)">Пройденные</a></li><li role="presentation" ng-class="{'active': vm.quizViewType == 2}" ng-if="vm.hasCreatedQuizzes"><a role="button" ng-click="vm.setQuizViewType(2)" href="javascript:void(0)">Созданные</a></li></ul></form><table ng-if="vm.viewType == 0" class="table table-striped"><tr><th>Название</th><th>Предмет</th></tr><tr ng-repeat-start="quiz in vm.createdQuizzesGridModel.entries" ng-click="vm.showDetails(quiz.id)" ng-class="{ 'selected-class-name': vm.rowShow.get(quiz.id) == true }"><td ng-if="quiz.permissions.view"><a ng-href="" ng-click="vm.loadQuiz(quiz.id); $event.stopPropagation();">{{::quiz.title}}</a></td><td ng-if="!quiz.permissions.view"><span>{{::quiz.title}}</span></td><td>{{::quiz.subjectName}}</td></tr><tr ng-repeat-end="quiz in vm.createdQuizzesGridModel.entries" ng-show="vm.rowShow.get(quiz.id) == true"><td colspan="2"><div class="col-lg-12 col-xs-12"><div class="col-lg-1 col-xs-1"></div><div class="col-lg-10 col-xs-10"><div class="col-lg-6 col-xs-6"><div class="row"><b>Предмет:</b> {{::quiz.subjectName}}</div><div class="row"><b>Язык:</b> {{::quiz.languageName}}</div><div class="row"><b>Продолжительность:</b> <span ng-if="quiz.duration">{{quiz.duration | numeraljs:'00:00:00'}}</span> <span ng-if="!quiz.duration">не ограничено</span></div></div><div ng-if="quiz.summary" class="col-lg-6 col-xs-6"><b>Доп. информация:</b> {{::quiz.summary}}</div></div><div class="col-lg-1 col-xs-1"></div></div></td></tr></table><div ng-if="vm.viewType == 1"><div ng-repeat="quiz in vm.createdQuizzesGridModel.entries" class="col-lg-4 col-xs-6"><div class="course-form"><a ng-href="" ng-if="quiz.permissions.view" ng-click="vm.loadQuiz(quiz.id)"><div class="img-wrapper"><img ng-if="quiz.previewUrl == null" src="themes/default/img/thumbnail-quiz.png" width="100%" height="100%"> <img ng-if="quiz.previewUrl != null" width="100%" height="100%" ng-src="{{::quiz.previewUrl}}" vhs-thumbnail vhs-thumbnail-model="quiz"></div></a><div class="img-wrapper" ng-if="!quiz.permissions.view"><img ng-if="quiz.previewUrl == null" src="themes/default/img/thumbnail-quiz.png" width="100%" height="100%"> <img ng-if="quiz.previewUrl != null" width="100%" height="100%" ng-src="{{::quiz.previewUrl}}" vhs-thumbnail vhs-thumbnail-model="quiz"></div><div class="course-title"><span class="vhs-green-text">{{::quiz.subjectName}}</span> <span>/ {{::quiz.title}}</span></div><div class="course-subtitle">{{::quiz.summary}}</div><div class="course-available">Продолжительность: <span ng-if="quiz.duration" ng-bind="::quiz.duration | numeraljs:'00:00:00'"></span> <span ng-if="!quiz.duration">не ограничено</span></div></div></div></div><div class="row" vhs-grid-pagination></div><div vhs-grid-empty data-vhs-empty-message="Тесты не найдены"></div></div></div></div>