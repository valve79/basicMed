<div ng-controller="personal.SettingsController as vm"><div class="col-lg-4 col-xs-4"><div class="col-lg-12 col-xs-12"><div class="user-profile"><img src="themes/default/img/demo/icon-profile.png"></div><h3 class="user-profile">{{vm.userProfile.fullName}}</h3></div><div class="col-lg-12 col-xs-12"><div left-personal-menu></div></div></div><div class="col-lg-8 col-xs-8"><form name="user_form" class="common-form" ng-submit="vm.saveProfileSettings()"><div class="row"><div class="col-lg-6 col-xs-6"><div class="form-group"><label class="vhs-required" for="firstNameField">Имя</label> <input type="text" class="form-control" id="firstNameField" name="firstNameField" required ng-disabled="vm.isEverythingDisabled" maxlength="100" ng-model="vm.newUserProfile.firstName"> <span class="error" ng-show="user_form.firstNameField.$error.required">Укажите имя пользователя</span></div><div class="form-group"><label class="vhs-required" for="lastNameField">Фамилия</label> <input type="text" class="form-control" id="lastNameField" name="lastNameField" required ng-disabled="vm.isEverythingDisabled" maxlength="100" ng-model="vm.newUserProfile.lastName"> <span class="error" ng-show="user_form.lastNameField.$error.required">Укажите фамилию пользователя</span></div><div class="form-group"><label class="vhs-required" for="mailField">Email</label> <input type="email" class="form-control" id="mailField" name="mailField" required ng-disabled="vm.isEverythingDisabled" maxlength="100" ng-model="vm.newUserProfile.email"><div class="error" ng-show="user_form.mailField.$error.required">Укажите email пользователя</div><div class="error" ng-show="user_form.mailField.$error.email">Здесь должен быть адрес эл. почты наподобие&nbsp; i.ivanov@example.com</div></div><div class="form-group" ng-if="vm.userLogon.id"><label class="vhs-required" for="loginField">Логин</label> <input type="text" class="form-control" id="loginField" name="loginField" disabled="disabled" maxlength="100" ng-model="vm.userLogon.name"></div><input type="text" style="display:none"><div class="form-group" ng-if="vm.userLogon.id"><label for="passwordField">Пароль</label> <input type="password" class="form-control" id="passwordField" name="passwordField" ng-disabled="vm.isEverythingDisabled" maxlength="100" ng-model="vm.userLogon.password"></div><div class="form-group" ng-if="vm.userLogon.id"><label ng-class="{'vhs-required': vm.userLogon.password.length}" for="confirmPasswordField">Подтверждение пароля</label> <input type="password" class="form-control" id="confirmPasswordField" name="confirmPasswordField" ng-disabled="vm.isEverythingDisabled" maxlength="100" ng-required="vm.userLogon.password.length" ng-model="vm.confirmPassword"> <span class="error" ng-show="!vm.confirmPassword.length && user_form.confirmPasswordField.$error.required">Подтвердите пароль</span> <span class="error" ng-show="vm.confirmPassword.length && vm.confirmPassword != vm.userLogon.password">Пароли не совпадают</span></div><div class="form-group" ng-if="vm.availableLocales && vm.availableLocales.length > 1"><label class="vhs-required">Локаль</label> <select class="form-control" ng-disabled="vm.isEverythingDisabled" ng-model="vm.newUserProfile.locale" ng-required="true" ng-options="::e.locale as ::e.name for e in ::vm.availableLocales"></select></div></div><div class="col-lg-6 col-xs-6"><div class="form-group"><label>Группы</label><table class="table"><tbody><tr ng-repeat="group in vm.newUserProfile.groupsList"><td>{{group.name}}</td></tr></tbody></table></div></div></div><div class="row"><div class="col-lg-6 col-xs-6"><div class="row"><div class="col-lg-6 col-xs-6"><button class="btn btn-block btn-xs vhs-green vhs-white-text" type="submit" ng-disabled="vm.isEverythingDisabled || !user_form.$valid || vm.disableSaveButton || (vm.userLogon.password && vm.confirmPassword != vm.userLogon.password)">Сохранить</button></div><div class="col-lg-6"><button class="btn btn-block btn-xs vhs-brown vhs-white-text" type="button" ng-disabled="vm.isEverythingDisabled" ng-click="vm.cancelProfileSettings()">Отменить</button></div></div></div></div></form></div></div>