<div ng-controller="personal.FavoritesController as vm"><div vhs-grid data-grid-model-path="vm.favoritesGridModel" data-vhs-grid-uuid="favoritesRegisterGrid" ng-cloak><form class="form-inline form-header material-form-header" data-vhs-auto-search><label for="searchField" class="label-search">The total number of records: {{vm.favoritesGridModel.totalCount}}</label> <span class="glyphicon glyphicon-search" data-toggle="collapse" data-target="#searchField" aria-controls="searchField"></span> <input type="text" class="form-control collapse" id="searchField" maxlength="500" placeholder="Search in favorites" ng-model="vm.favoritesGridModel.filter.searchString"/><div class="pull-right"><label for="viewTypeField" class="label-search">View</label> <select class="form-control" id="viewTypeField" ng-model="vm.viewType"><option value="0">list</option><option value="1">cards</option></select></div></form><table ng-if="vm.viewType == 0" class="table table-striped"><tr ng-if="vm.favoritesGridModel.entries.length > 0"><th width="50%">Title</th><th width="20%">Type</th><th width="15%">Duration</th><th width="15%">Size</th><th></th></tr><tr ng-repeat-start="favorite in vm.favoritesGridModel.entries" ng-click="vm.showDetails($index, favorite)" ng-class="{ 'selected-class-name': vm.rowShow.get($index) == true }"><td ng-if="favorite.permissions.view"><a ng-href="" ng-click="vm.loadFavoritePage(favorite); $event.stopPropagation();" ng-if="vm.isMaterialObject(favorite.objectType)">{{::favorite.subjectName}} / {{::favorite.name}} <span ng-if="favorite.author">({{::favorite.author}})</span></a> <a ng-href="" ng-click="vm.loadFavoritePage(favorite); $event.stopPropagation();" ng-if="vm.isPlaylistObject(favorite.objectType)">{{::favorite.subjectName}} / {{::favorite.name}} ({{::favorite.sourceName}})</a> <a ng-href="" ng-click="vm.loadFavoritePage(favorite); $event.stopPropagation();" ng-if="vm.isCourseObject(favorite.objectType)">{{::favorite.subjectName}} / {{::favorite.name}} ({{::favorite.sourceName}})</a></td><td ng-if="!favorite.permissions.view"><span ng-if="vm.isMaterialObject(favorite.objectType)">{{::favorite.subjectName}} / {{::favorite.name}} ({{::favorite.author}})</span> <span ng-if="vm.isPlaylistObject(favorite.objectType)">{{::favorite.subjectName}} / {{::favorite.name}} ({{::favorite.sourceName}})</span> <span ng-if="vm.isCourseObject(favorite.objectType)">{{::favorite.subjectName}} / {{::favorite.name}} ({{::favorite.sourceName}})</span></td><td><button ng-if="vm.isMaterialObject(favorite.objectType) && favorite.permissions.view" class="btn-link" type="button" ng-click="vm.loadFavoritePage(favorite)"><span class="{{::vm.getMaterialTypeClass(favorite.contentTypeKey)}}"></span></button> <span ng-if="!favorite.permissions.view" class="{{::vm.getMaterialTypeClass(favorite.contentTypeKey)}}"></span> <span>{{::vm.getContentTypeTitle(favorite.contentTypeKey)}}</span></td><td>{{::favorite.duration | numeraljs:'00:00:00'}}</td><td>{{::favorite.fileSize | numeraljs:'0 b'}}</td><td><div class="hover-btn"><button type="button" class="close" data-dismiss="alert" title="Remove from favorites" ng-click="vm.removeFromFavorites(favorite.objectId, favorite.objectType); $event.stopPropagation();" ng-show="!vm.disableRemoveButton"><span aria-hidden="true">×</span> <span class="sr-only">Remove from favorites</span></button></div></td></tr><tr ng-repeat-end="favorite in vm.favoritesGridModel.entries" ng-show="vm.rowShow.get($index) == true"><td colspan="3"><div class="col-lg-12 col-xs-12"><div class="col-lg-1 col-xs-1"></div><div class="col-lg-10 col-xs-10"><div class="col-lg-6 col-xs-6"><div class="row"><b>Subject:</b> {{::favorite.subjectName}}</div><div class="row" ng-if="vm.isMaterialObject(favorite.objectType)"><b>Title:</b> {{::favorite.name}}</div><div class="row" ng-if="vm.isMaterialObject(favorite.objectType)"><b>Topic:</b> {{::favorite.topic}}</div><div class="row" ng-if="vm.isPlaylistObject(favorite.objectType)"><b>Type:</b> {{::favorite.courseTypeName}}</div><div class="row" ng-if="vm.isMaterialObject(favorite.objectType) && favorite.author"><b>Author:</b> {{::favorite.author}}</div><div class="row" ng-if="vm.isPlaylistObject(favorite.objectType) || vm.isCourseObject(favorite.objectType)"><b>Source:</b> {{::favorite.sourceName}}</div><div class="row" ng-if="vm.isCourseObject(favorite.objectType)"><b>Starting date:</b> <span ng-bind="::favorite.courseStartDate | date: 'M/d/yyyy'"></span></div><div class="row" ng-if="vm.isMaterialObject(favorite.objectType)"><b>Available till:</b> <span ng-if="favorite.validity != null" ng-bind="::favorite.validity | date: 'M/d/yyyy'"></span> <span ng-if="favorite.validity == null">Never expires</span></div><div class="row" ng-if="vm.isMaterialObject(favorite.objectType) || vm.isCourseObject(favorite.objectType)"><b>Language:</b> {{::favorite.languageName}}</div><div class="row" ng-if="vm.isPlaylistObject(favorite.objectType) && favorite.languages.length > 0"><b>Language:</b> {{::vm.getLanguages(favorite.languages)}}</div><div class="row" ng-if="vm.isPlaylistObject(favorite.objectType) || vm.isCourseObject(favorite.objectType)"><b>Level of complexity:</b> {{::favorite.complexityLevelName}}</div></div><div class="col-lg-6 col-xs-6" ng-if="favorite.summary"><b ng-if="!vm.isCourseObject(favorite.objectType)">Summary:</b> <b ng-if="vm.isCourseObject(favorite.objectType)">Summary:</b> {{::favorite.summary}}</div></div><div class="col-lg-1 col-xs-1"></div></div></td></tr><tr vhs-grid-empty data-vhs-empty-message="Nothing found in your favorites"></tr></table><div ng-if="vm.viewType == 1"><div class="row"><div ng-repeat="favorite in vm.favoritesGridModel.entries" class="col-lg-3 col-xs-6"><div class="hover-btn"><button type="button" class="close" data-dismiss="alert" title="Remove from favorites" ng-click="vm.removeFromFavorites(favorite.objectId, favorite.objectType)" ng-show="!vm.disableRemoveButton"><span aria-hidden="true">×</span> <span class="sr-only">Remove from favorites</span></button></div><a ng-if="favorite.permissions.view" class="material-link" ng-href="" ng-click="vm.loadFavoritePage(favorite)"><div class="search-result-element"><div class="image-video"><img class="img-rounded" width="100%" height="100%" ng-src="{{::favorite.previewUrl}}" vhs-thumbnail vhs-thumbnail-model="favorite" alt="{{::favorite.name}}"><p ng-if="favorite.contentTypeKey == 'AUDIO' || favorite.contentTypeKey == 'VIDEO'"><strong>{{::favorite.duration | numeraljs:'00:00:00'}}</strong></p></div><div class="element-title" ng-if="vm.isMaterialObject(favorite.objectType)"><strong class="vhs-green-text">{{::favorite.subjectName}}</strong><strong> / {{::favorite.name}} <span ng-if="favorite.author">({{::favorite.author}})</span></strong></div><div class="element-title" ng-if="vm.isPlaylistObject(favorite.objectType)"><strong class="vhs-green-text">{{::favorite.subjectName}}</strong><strong>/ {{::favorite.name}}({{::favorite.sourceName}})</strong></div><div class="element-title" ng-if="vm.isCourseObject(favorite.objectType)"><strong>{{::favorite.name}}({{::favorite.sourceName}})</strong></div><div class="element-info">{{::favorite.summary}}</div></div></a><div ng-if="!favorite.permissions.view" class="search-result-element"><div class="image-video"><img class="img-rounded" width="100%" height="100%" ng-src="{{::favorite.previewUrl}}" vhs-thumbnail vhs-thumbnail-model="favorite"><p ng-if="favorite.contentTypeKey == 'AUDIO' || favorite.contentTypeKey == 'VIDEO'"><strong>{{::favorite.duration | numeraljs:'00:00:00'}}</strong></p></div><div class="element-title" ng-if="vm.isMaterialObject(favorite.objectType)"><strong class="vhs-green-text">{{::favorite.subjectName}}</strong><strong> / {{::favorite.name}} ({{::favorite.author}})</strong></div><div class="element-title" ng-if="vm.isPlaylistObject(favorite.objectType)"><strong class="vhs-green-text">{{::favorite.subjectName}}</strong><strong>/ {{::favorite.name}}({{::favorite.sourceName}})</strong></div><div class="element-title" ng-if="vm.isCourseObject(favorite.objectType)"><strong>{{::favorite.name}}({{::favorite.sourceName}})</strong></div><div class="element-info">{{::favorite.summary}}</div></div></div></div><div vhs-grid-empty data-vhs-empty-message="Nothing found in your favorites"></div></div><div class="row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="pagination-block" vhs-grid-pagination></div></div></div></div></div>