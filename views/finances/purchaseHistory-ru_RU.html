<div ng-controller="finances.PurchaseHistoryController as vm"><div vhs-grid data-grid-model-path="vm.purchaseHistoryGridModel" data-vhs-grid-uuid="purchaseHistoryGrid"><form class="form-inline form-header" style="margin-bottom: 10px" data-vhs-auto-search><label for="searchField" style="color: #987FB8; margin-right: 10px">Всего записей: {{vm.purchaseHistoryGridModel.totalCount}}</label> <span class="glyphicon glyphicon-search" aria-hidden="true" data-toggle="collapse" data-target="#searchField" aria-expanded="false" aria-controls="collapseExample"></span> <input type="text" class="form-control collapse" id="searchField" maxlength="500" placeholder="Поиск" ng-model="vm.purchaseHistoryGridModel.filter.searchString"/><div class="pull-right"><label for="viewTypeField" class="label-search">Просмотр</label> <select class="form-control" id="viewTypeField" ng-model="vm.viewType"><option value="0">список</option><option value="1">карточки</option></select></div></form><table ng-if="vm.viewType == 0" class="table table-striped"><tr ng-if="vm.purchaseHistoryGridModel.entries.length > 0"><th>Название</th><th>Тип</th><th>Продолжительность</th><th>Цена</th><th>Дата покупки</th></tr><tr ng-repeat-start="item in vm.purchaseHistoryGridModel.entries" data-toggle="collapse" data-target="#collapse{{ item.id }}"><td><a ng-href="#{{::vm.contentRouter.detailsUrl(item.objectId, item.objectType)}}">{{::item.name}}</a></td><td><a ng-href="#{{::vm.contentRouter.detailsUrl(item.objectId, item.objectType)}}"><span ng-class="{
                                'glyphicon glyphicon-headphones': (item.contentTypeKey === 'AUDIO'),
                                'glyphicon glyphicon-play': (item.contentTypeKey === 'VIDEO'),
                                'glyphicon glyphicon-file': (item.contentTypeKey === 'DOCUMENTS'),
                                'glyphicon glyphicon-globe': (item.contentTypeKey === 'LINK'),
                                'glyphicon glyphicon-picture': (item.contentTypeKey === 'PHOTO'),
                                'glyphicon glyphicon-road': (item.contentTypeKey === 'COURSE'),
                                'glyphicon glyphicon-list': (item.contentTypeKey === 'PLAYLIST')
                            }"></span> </a>{{::item.contentType}}</td><td>{{::item.duration | numeraljs:'00:00:00'}}</td><td>{{::item.purchasePrice}}</td><td><span ng-bind="::item.uploadDate | date: 'dd.MM.yyyy'"></span></td></tr><tr ng-repeat-end="item in vm.purchaseHistoryGridModel.entries" class="collapse" id="collapse{{ item.id }}"><td colspan="5"><div class="col-lg-12 col-xs-12"><div class="col-lg-1 col-xs-1"></div><div class="col-lg-10 col-xs-10"><div class="col-lg-6 col-xs-6"><div class="row"><b>Предмет:</b> {{::item.subject}}</div><div class="row"><b>Название:</b> {{::item.name}}</div><div class="row"><b>Тема:</b> {{::item.topic}}</div><div class="row"><b>Автор:</b> {{::item.author}}</div><div class="row"><b>Доступно до:</b> <span ng-cloak ng-if="::item.validity" ng-bind="::item.validity | date: 'dd.MM.yyyy'"></span> <span ng-cloak ng-hide="::item.validity">Бессрочно</span></div><div class="row"><b>Язык:</b> {{::item.language}}</div></div><div class="col-lg-6 col-xs-6"><b>Краткое содержание:</b> {{::item.summary}}</div></div><div class="col-lg-1 col-xs-1"></div></div></td></tr></table><div ng-if="vm.viewType == 1"><div ng-repeat="item in vm.purchaseHistoryGridModel.entries"><div class="col-lg-4 col-xs-4"><a class="material-link" ng-href="#{{::vm.contentRouter.detailsUrl(item.objectId, item.objectType)}}"><div class="search-result-element"><div class="image-video"><img ng-src="{{::item.previewUrl}}" class="img-rounded" width="100%" height="100%" vhs-thumbnail vhs-thumbnail-model="item"><p><strong>{{::item.duration | numeraljs:'00:00:00'}}</strong></p></div><div style="font-size: 10px; margin-top: 10px">Дата загрузки: <span ng-bind="::item.uploadDate | date: 'dd.MM.yyyy'"></span></div><div style="font-size: 13px; margin-top: 10px"><strong class="vhs-green-text">{{::item.subject}}</strong> <strong>/ {{::item.name}}</strong></div><div style="font-size: 8px; margin-top: 10px"><strong>{{::item.summary}}</strong></div></div></a></div></div></div><div vhs-grid-empty data-vhs-empty-message="Материалы не найдены"></div><div class="row" vhs-grid-pagination></div></div></div>