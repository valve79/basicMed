<div ng-controller="settings.StoragePlaceEditController as vm"><div class="content-header"></div><form name="storagePlace_form" class="common-form" ng-submit="vm.save()"><div class="row"><div class="col-lg-6 col-xs-6"><div class="form-group"><label class="vhs-required" for="nameField">Storage name</label> <input type="text" class="form-control" id="nameField" name="nameField" required maxlength="200" ng-model="vm.storagePlace.name"> <span class="error" ng-show="storagePlace_form.nameField.$error.required">Please specify a storage name</span></div><div class="form-group"><label class="vhs-required" for="externalUrlField">External URL-address of the storage</label> <input type="text" class="form-control" id="externalUrlField" name="externalUrlField" required maxlength="500" ng-model="vm.storagePlace.externalUrl"> <span class="error" ng-show="storagePlace_form.externalUrlField.$error.required">Please specify an external URL-address of the storage</span></div><div class="form-group"><label class="vhs-required" for="connectionStringField">Connection string for uploading to the storage</label> <input type="text" class="form-control" id="connectionStringField" name="connectionStringField" required maxlength="1000" ng-model="vm.storagePlace.connectionString"> <span class="error" ng-show="storagePlace_form.connectionStringField.$error.required">Please specify a connection string for uploading to the storage</span></div><div class="form-group"><label for="loginField">Username (login) for uploading</label> <input type="text" class="form-control" id="loginField" name="loginField" maxlength="200" ng-model="vm.storagePlace.login"></div><div class="form-group"><label for="passwordField">Password for uploading</label> <input type="password" class="form-control" id="passwordField" name="passwordField" maxlength="200" ng-model="vm.storagePlace.password"></div><div class="form-group"><label ng-class="{'vhs-required': vm.storagePlace.password.length}" for="confirmPasswordField">Confirm Password</label> <input type="password" class="form-control" id="confirmPasswordField" name="confirmPasswordField" ng-disabled="vm.isEverythingDisabled" maxlength="200" ng-required="vm.storagePlace.password.length" ng-model="vm.confirmPassword"> <span class="error" ng-show="storagePlace_form.confirmPasswordField.$error.required">Please re-enter the same password</span> <span class="error" ng-show="vm.confirmPassword.length && vm.confirmPassword != vm.storagePlace.password">Passwords do not match</span></div><div class="form-group"><label class="vhs-required" for="typeField">Storage access type (protocol)</label> <select class="form-control" id="typeField" name="typeField" required ng-model="vm.storagePlace.type" ng-required="true" ng-options="::e for e in ::vm.availableStorageTypes"></select> <span class="error" ng-show="storagePlace_form.typeField.$error.required">Please specify the access type (protocol) for the storage</span></div><div class="form-group"><label class="vhs-required" for="capacityField">Storage total capacity, bytes</label> <input type="number" class="form-control" id="capacityField" name="capacityField" min="0" max="9007199254740992" required ng-model="vm.storagePlace.capacity"> <span class="error" ng-show="storagePlace_form.capacityField.$error.required">Please specify the storage total capacity </span><span class="error" ng-show="storagePlace_form.capacityField.$error.number">Please enter a number </span><span class="error" ng-show="storagePlace_form.capacityField.$error.min">Please enter a non-negative number </span><span class="error" ng-show="storagePlace_form.capacityField.$error.max">This number is too big </span><span class="error" ng-show="vm.storagePlace.usedSpace > vm.storagePlace.capacity">Used capacity cannot exceed the storage total capacity</span></div><div class="form-group"><label class="vhs-required" for="usedSpaceField">Storage used capacity, bytes</label> <input type="number" class="form-control" id="usedSpaceField" name="usedSpaceField" min="0" max="9007199254740992" required ng-model="vm.storagePlace.usedSpace"> <span class="error" ng-show="storagePlace_form.usedSpaceField.$error.required">Please specify the storage used capacity (at the moment) </span><span class="error" ng-show="storagePlace_form.usedSpaceField.$error.number">Please enter a number </span><span class="error" ng-show="storagePlace_form.usedSpaceField.$error.min">Please enter a non-negative number </span><span class="error" ng-show="storagePlace_form.usedSpaceField.$error.max">This number is too big </span><span class="error" ng-show="vm.storagePlace.usedSpace > vm.storagePlace.capacity">Used capacity cannot exceed the storage total capacity</span></div><div class="form-group"><label>Secure storage</label><div><div class="col-lg-1 col-xs-3"><div class="input-group"><div class="radio"><label><input type="radio" ng-value="1" ng-model="vm.storagePlace.secured"> Yes</label></div></div></div><div class="col-lg-1 col-xs-3"><div class="input-group"><div class="radio"><label><input type="radio" ng-value="0" ng-model="vm.storagePlace.secured"> No</label></div></div></div></div></div></div></div><div class="row"><div class="col-lg-6 col-xs-6"><div class="row"><div class="col-lg-6 col-xs-6"><button class="btn btn-primary btn-block" type="submit" ng-disabled="!storagePlace_form.$valid || vm.disableSaveButton
                                || ((vm.storagePlace.password.length || vm.confirmPassword.length) && (vm.confirmPassword != vm.storagePlace.password))">Save</button></div><div class="col-lg-6 col-xs-6"><a ng-href="#{{::vm.systemSettingsRouter.storagePlacesIndexUrl()}}" class="btn btn-default btn-block">Cancel</a></div></div></div><div class="col-lg-6 col-xs-6"><div class="row"><div class="col-lg-6 col-xs-6"><button class="btn btn-primary btn-block" type="button" ng-click="vm.deactivate()" ng-if="vm.storagePlace.id && vm.storagePlace.active"><span class="glyphicon glyphicon-off"></span> Deactivate</button></div></div></div></div></form></div>