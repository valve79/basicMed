<div ng-controller="settings.StoragePlaceEditController as vm"><div class="content-header"></div><form name="storagePlace_form" class="common-form" ng-submit="vm.save()"><div class="row"><div class="col-lg-6 col-xs-6"><div class="form-group"><label class="vhs-required" for="nameField">Имя хранилища</label> <input type="text" class="form-control" id="nameField" name="nameField" required maxlength="200" ng-model="vm.storagePlace.name"> <span class="error" ng-show="storagePlace_form.nameField.$error.required">Укажите имя хранилища</span></div><div class="form-group"><label class="vhs-required" for="externalUrlField">Внешний адрес хранилища (URL)</label> <input type="text" class="form-control" id="externalUrlField" name="externalUrlField" required maxlength="500" ng-model="vm.storagePlace.externalUrl"> <span class="error" ng-show="storagePlace_form.externalUrlField.$error.required">Укажите внешний адрес хранилища (URL)</span></div><div class="form-group"><label class="vhs-required" for="connectionStringField">Строка подключения для загрузки в хранилище</label> <input type="text" class="form-control" id="connectionStringField" name="connectionStringField" required maxlength="1000" ng-model="vm.storagePlace.connectionString"> <span class="error" ng-show="storagePlace_form.connectionStringField.$error.required">Укажите строку подключения для загрузки в хранилище</span></div><div class="form-group"><label for="loginField">Имя пользователя (логин) для загрузки</label> <input type="text" class="form-control" id="loginField" name="loginField" maxlength="200" ng-model="vm.storagePlace.login"></div><div class="form-group"><label for="passwordField">Пароль пользователя для загрузки</label> <input type="password" class="form-control" id="passwordField" name="passwordField" maxlength="200" ng-model="vm.storagePlace.password"></div><div class="form-group"><label ng-class="{'vhs-required': vm.storagePlace.password.length}" for="confirmPasswordField">Подтверждение пароля пользователя для загрузки</label> <input type="password" class="form-control" id="confirmPasswordField" name="confirmPasswordField" ng-disabled="vm.isEverythingDisabled" maxlength="200" ng-required="vm.storagePlace.password.length" ng-model="vm.confirmPassword"> <span class="error" ng-show="storagePlace_form.confirmPasswordField.$error.required">Подтвердите пароль</span> <span class="error" ng-show="vm.confirmPassword.length && vm.confirmPassword != vm.storagePlace.password">Пароли не совпадают</span></div><div class="form-group"><label class="vhs-required" for="typeField">Тип (протокол) доступа к хранилищу</label> <select class="form-control" id="typeField" name="typeField" required ng-model="vm.storagePlace.type" ng-required="true" ng-options="::e for e in ::vm.availableStorageTypes"></select> <span class="error" ng-show="storagePlace_form.typeField.$error.required">Укажите тип (протокол) доступа к хранилищу</span></div><div class="form-group"><label class="vhs-required" for="capacityField">Объём хранилища, байт</label> <input type="number" class="form-control" id="capacityField" name="capacityField" min="0" max="9007199254740992" required ng-model="vm.storagePlace.capacity"> <span class="error" ng-show="storagePlace_form.capacityField.$error.required">Укажите объём хранилища </span><span class="error" ng-show="storagePlace_form.capacityField.$error.number">Введите число </span><span class="error" ng-show="storagePlace_form.capacityField.$error.min">Введите неотрицательное число </span><span class="error" ng-show="storagePlace_form.capacityField.$error.max">Слишком большое число </span><span class="error" ng-show="vm.storagePlace.usedSpace > vm.storagePlace.capacity">Использованное пространство не может быть больше объёма хранилища</span></div><div class="form-group"><label class="vhs-required" for="usedSpaceField">Использованное пространство хранилища, байт</label> <input type="number" class="form-control" id="usedSpaceField" name="usedSpaceField" min="0" max="9007199254740992" required ng-model="vm.storagePlace.usedSpace"> <span class="error" ng-show="storagePlace_form.usedSpaceField.$error.required">Укажите использованное пространство хранилища </span><span class="error" ng-show="storagePlace_form.usedSpaceField.$error.number">Введите число </span><span class="error" ng-show="storagePlace_form.usedSpaceField.$error.min">Введите неотрицательное число </span><span class="error" ng-show="storagePlace_form.usedSpaceField.$error.max">Слишком большое число </span><span class="error" ng-show="vm.storagePlace.usedSpace > vm.storagePlace.capacity">Использованное пространство не может быть больше объёма хранилища</span></div><div class="form-group"><label>Защищенное хранилище</label><div><div class="col-lg-1 col-xs-3"><div class="input-group"><div class="radio"><label><input type="radio" ng-value="1" ng-model="vm.storagePlace.secured"> Да</label></div></div></div><div class="col-lg-1 col-xs-3"><div class="input-group"><div class="radio"><label><input type="radio" ng-value="0" ng-model="vm.storagePlace.secured"> Нет</label></div></div></div></div></div></div></div><div class="row"><div class="col-lg-6 col-xs-6"><div class="row"><div class="col-lg-6 col-xs-6"><button class="btn btn-primary btn-block" type="submit" ng-disabled="!storagePlace_form.$valid || vm.disableSaveButton
                                || ((vm.storagePlace.password.length || vm.confirmPassword.length) && (vm.confirmPassword != vm.storagePlace.password))">Сохранить</button></div><div class="col-lg-6 col-xs-6"><a ng-href="#{{::vm.systemSettingsRouter.storagePlacesIndexUrl()}}" class="btn btn-default btn-block">Отменить</a></div></div></div><div class="col-lg-6 col-xs-6"><div class="row"><div class="col-lg-6 col-xs-6"><button class="btn btn-primary btn-block" type="button" ng-click="vm.deactivate()" ng-if="vm.storagePlace.id && vm.storagePlace.active"><span class="glyphicon glyphicon-off"></span> Деактивировать</button></div></div></div></div></form></div>