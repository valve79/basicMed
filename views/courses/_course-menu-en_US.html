<div id="menu" ng-class="{'open': vm.isCourseMenuVisible, 'closed': !vm.isCourseMenuVisible}"><div id="leftCourseMenu" class="maxwidth full-h"><section class="visible-menu"><div style="display: none;" class="bouncy-arrow icon-arrow-down bounce animated">&nbsp;</div><div class="fade gradient"><div class="visible-menu-inner" ng-class="{'splash': !vm.courseStarted || vm.showSplashPageForStartedCourse}"><span class="mobile-display"><button id="back-mobile" class="btn direction" ng-click="vm.redirectToPrevSection()" ng-if="vm.courseStarted && !vm.sectionQuizPassing && !vm.showSplashPageForStartedCourse" ng-disabled="!vm.showSectionNotAllowedMessage && (vm.sectionQuizPassing || !vm.prevSection.id)" title="Back to the previous lesson">Back</button> </span><span id="menu-tab-open" class="menu-bottom"><a class="btn menu-main menu-button" ng-class="{'greyed-out': !vm.isCourseMenuVisible || vm.isCourseMenuVisible && vm.isCourseShareMenuVisible}" ng-click="vm.showHideCourseMenu(false)">Menu</a> </span><span id="menu-tab-share" class="menu-bottom"><a class="btn icon-share menu-button" ng-class="{'greyed-out': !vm.isCourseMenuVisible || vm.isCourseMenuVisible && !vm.isCourseShareMenuVisible}" ng-click="vm.showHideCourseMenu(true)">Share</a> </span><span class="mobile-display"><button id="next-mobile" class="btn direction" ng-if="!vm.sectionQuizPassing && vm.nextSection.id && !vm.showSplashPageForStartedCourse" title="{{vm.isSectionViewAllowed(vm.nextSection) ? 'Next lesson' : 'To go to the next section you must pass quiz in the current section'}}" ng-click="vm.redirectToNextSection()">Next</button></span></div></div></section><section ng-show="vm.isCourseMenuVisible" class="hidden-menu"><div class="mobile-space"><div id="tab-content-open-menu" ng-show="!vm.isCourseShareMenuVisible"><section class="columns-2 float-left"><p ng-if="::vm.isAuthenticated" class="downplayed"><span>Logged in as <strong><span class="username">{{::vm.currentUser.fullName}}</span></strong> (<a class="downplayed" title="Log out of this user account." ng-href="#{{::vm.authRouter.logoutUrl()}}">Not <span class="username">{{::vm.currentUser.fullName}}</span>? Log Out</a>)</span></p><a href="{{::vm.courseLink}}" class="course-link" ng-click="vm.goToHome()"><img class="course-logo" ng-if="vm.course.previewUrl == null" src="themes/default/img/thumbnail-course.png" width="100%" height="100%" alt="{{::vm.course.subjectName}}"> <img class="course-logo" ng-if="vm.course.previewUrl != null" ng-src="{{::vm.course.previewUrl}}" alt="{{::vm.course.subjectName}}"></a><hr><div id="menu-extra"><div id="course_summary_rich_text" ta-bind ng-model="::vm.course.summary" vhs-rich-text-bind vhs-bundle="vm.courseBundle"></div></div></section><section class="class-menu columns-2"><h3>Your Course Progress:</h3><div id="menu-progress" class="course-modules-menu-progress-container"><div ng-repeat="module in vm.modules" class="class-item" ng-class="{'complete': vm.modulesProgress.get(module.id) == 100,
                                     'locked': vm.sectionsMap.get(module.id)[0].section.status === 'NOT_ALLOWED' || !vm.courseProgressId && vm.sectionsMap.get(module.id)[0].section.lockUntilPreviousSectionsRead,
                                      'current': vm.courseStarted && vm.menuKey.leftMenuModuleExpanded == module.id}" ng-click="vm.goToTheModule(module)"><a href="javascript:void(0)"><div class="class-column thumb"><img class="class-thumb" alt="{{module.name}}" vhs-load-bundle-file vhs-bundle-file="::vm.getModulePreviewImageBundle(module)" src=""></div><div class="class-column title"><span>Chapter {{($index + 1)}}: <strong>{{module.name}}</strong></span><div class="progress"><span ng-style="{'width': vm.modulesProgress.get(module.id) + '%'}">{{vm.modulesProgress.get(module.id)}}%</span></div></div></a></div></div></section></div><div id="tab-content-share-this" ng-show="vm.isCourseShareMenuVisible"><section class="share-column"><h3>Share this course:</h3><ul class="share"><li><a class="icon-facebook" target="_blank" id="share-fb" ng-href="https://www.facebook.com/sharer.php?u={{vm.courseShareLink}}">Share</a></li><li><a class="icon-twitter" target="_blank" id="share-twitter" ng-href="http://twitter.com/share?text=Learn%20essentials%20of%20medical%20self-assessment%20with%20this%20free%20online%20course%20from%20%40AOPA%20Foundation's%20Air%20Safety%20Institute&amp;url={{vm.courseShareLink}}">Tweet</a></li><li><a class="icon-linkedin" target="_blank" id="share-linkedin" ng-href="http://www.linkedin.com/shareArticle?mini=true&amp;url={{vm.courseShareLink}}&amp;title=Medical%20Self%20Assessment">LinkedIn</a></li><li><a class="icon-google-plus" target="_blank" id="share-googleplus" ng-href="https://plus.google.com/share?url={{vm.courseShareLink}}">Google+</a></li></ul><form><fieldset><ul><li><label class="icon-link">Course Link:</label><input type="url" ng-value="vm.courseShareLink" class="input_full" readonly="readonly" id="share-url"></li></ul></fieldset></form></section></div><div id="fade-bottom"><div class="maxwidth"><section class="visible-menu"><div class="fade gradient">&nbsp;</div></section></div></div></div></section></div><div ng-if="vm.modules.length == 0">Modules not found</div></div>